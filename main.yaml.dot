digraph "template" {
VPC [label="VPC\n<AWS::EC2::VPC>"];
InternetGateway [label="InternetGateway\n<AWS::EC2::InternetGateway>"];
InternetGatewayAttachment [label="InternetGatewayAttachment\n<AWS::EC2::VPCGatewayAttachment>"];
Subnet1 [label="Subnet1\n<AWS::EC2::Subnet>"];
Subnet2 [label="Subnet2\n<AWS::EC2::Subnet>"];
RouteTable [label="RouteTable\n<AWS::EC2::RouteTable>"];
DefaultRoute [label="DefaultRoute\n<AWS::EC2::Route>"];
Subnet1RouteTableAssociation [label="Subnet1RouteTableAssociation\n<AWS::EC2::SubnetRouteTableAssociation>"];
Subnet2RouteTableAssociation [label="Subnet2RouteTableAssociation\n<AWS::EC2::SubnetRouteTableAssociation>"];
SecurityGroup [label="SecurityGroup\n<AWS::EC2::SecurityGroup>"];
MyEcrRepository [label="MyEcrRepository\n<AWS::ECR::Repository>"];
TaskExecutionRole [label="TaskExecutionRole\n<AWS::IAM::Role>"];
ECSCluster [label="ECSCluster\n<AWS::ECS::Cluster>"];
ECSService [label="ECSService\n<AWS::ECS::Service>"];
TaskDefinition [label="TaskDefinition\n<AWS::ECS::TaskDefinition>"];
CodeBuildServiceRole [label="CodeBuildServiceRole\n<AWS::IAM::Role>"];
CodePipelineServiceRole [label="CodePipelineServiceRole\n<AWS::IAM::Role>"];
DeploymentArtifactBucket [label="DeploymentArtifactBucket\n<AWS::S3::Bucket>"];
CodeBuildProject [label="CodeBuildProject\n<AWS::CodeBuild::Project>"];
CodePipeline [label="CodePipeline\n<AWS::CodePipeline::Pipeline>"];
InternetGatewayAttachment -> InternetGateway  [key=0, label=Ref];
InternetGatewayAttachment -> VPC  [key=0, label=Ref];
Subnet1 -> VPC  [key=0, label=Ref];
Subnet2 -> VPC  [key=0, label=Ref];
RouteTable -> VPC  [key=0, label=Ref];
DefaultRoute -> RouteTable  [key=0, label=Ref];
DefaultRoute -> InternetGateway  [key=0, label=Ref];
Subnet1RouteTableAssociation -> RouteTable  [key=0, label=Ref];
Subnet1RouteTableAssociation -> Subnet1  [key=0, label=Ref];
Subnet2RouteTableAssociation -> RouteTable  [key=0, label=Ref];
Subnet2RouteTableAssociation -> Subnet2  [key=0, label=Ref];
SecurityGroup -> VPC  [key=0, label=Ref];
ECSService -> ECSCluster  [key=0, label=Ref];
ECSService -> TaskDefinition  [key=0, label=Ref];
ECSService -> SecurityGroup  [key=0, label=Ref];
ECSService -> Subnet1  [key=0, label=Ref];
ECSService -> Subnet2  [key=0, label=Ref];
TaskDefinition -> TaskExecutionRole  [key=0, label=GetAtt];
CodeBuildProject -> CodeBuildServiceRole  [key=0, label=GetAtt];
CodePipeline -> CodeBuildProject  [key=0, label=Ref];
CodePipeline -> ECSCluster  [key=0, label=Ref];
CodePipeline -> ECSService  [key=0, label=Ref];
CodePipeline -> DeploymentArtifactBucket  [key=0, label=Ref];
CodePipeline -> CodePipelineServiceRole  [key=0, label=GetAtt];
}
